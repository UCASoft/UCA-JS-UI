!function (t) { t.uca.control.subclass("uca.combobox", { _bindUlClick: function (e, a, n, o) { e.on("click", "li a", function () { var l = t(this); e.add("li a").removeClass("selected"), l.addClass("selected"), t.uca.angular._isConnected() && (a.keydown(), n.keydown()), a.val(l.text()), n.val(l.attr("value")); var d = o.items[l.attr("value")]; o.seletedItem !== d && (o.seletedItem = d, o.options.onSelectIndexChanged && o.options.onSelectIndexChanged(d)) }) }, _bindDropDownScroll: function (e) { e.children("[data-toggle='dropdown']").click(function () { var e = t(this), a = t("a.selected", e.parent()); a.length > 0 && setTimeout(function () { t("ul", e.parent()).animate({ scrollTop: a.position().top - 5 }, 250) }, 100) }) }, _init: function (e, a) { var n = t(e), o = this, l = this; if ("SELECT" === n[0].tagName) { var d = n.parent(), i = t("<div></div>").addClass("input-group dropdown").attr("style", n.attr("style")).attr("data-id", n.attr("id")), c = t('<input type="text" class="form-control" data-toggle="dropdown" />').attr("placeholder", a.placeholder), s = t('<input type="text" style="display: none;" />'); i.append(c), i.append(s), i.append(t('<span class="input-group-addon" data-toggle="dropdown" />').append('<span class="caret" />')); var r = n.children("option"); if (r.length > 0) { var p = t("<ul/>").addClass("dropdown-menu").attr("role", "menu").css("max-height", "250px").css("overflow-y", "auto"); l.items = [], r.each(function () { var e = t(this), a = { value: e.attr("value"), text: e.text(), data: null }; l.items[a.value] = a, p.append(t("<li/>").addClass("presentation").append(o._createItem(a))) }), o._bindUlClick(p, c, s, l), i.append(p), i.bind("click", function () { p.css("width", c.width() + 25 + "px") }) } d.append(i), t.uca.angular._isConnected() && (n.is("[uca-text-ng-model]") && (c.attr("ng-model", n.attr("uca-text-ng-model")), t.uca.angular._compile(c)), n.is("[uca-value-ng-model]") && (s.attr("ng-model", n.attr("uca-value-ng-model")), t.uca.angular._compile(s))), n.css("display", "none"), o._bindDropDownScroll(i) } }, _createItem: function (e) { var a = t("<a/>").addClass("menuitem").attr("value", e.value); return e.text ? a.text(e.text) : a.html("&nbsp;"), a }, options: { placeholder: "Choose a list item" } }), t.plugin("comboBox", t.uca.comboBox) }(jQuery);