!function (a) { a.uca.control.subclass("uca.accordion", { _resize: function (e, n) { var i = 50; n && (i = n); var l, d = a(e), r = d.children(".accordion-panel"), s = d.data("accordion"); l = s && s.options.height ? s.options.height : 0; var o = r.children(".accordion-body"); if (o.each(function () { var e = a(this); l < e.height() && (l = e.height()) }), d.hasClass("accordion-horizontal")) { r.not(0).css("margin-top", "-2px"); var c = r.children(".accordion-header"), t = a('<div style="overflow-x: auto;"></div>'), h = a("<span></span>"); t.append(h), d.append(t), c.children().each(function () { var e = a(this); h.text(e.text()), l < h.width() + 10 && (l = h.width() + 10) }), t.remove(), c.height(l + 10), c.children(".panel-title").each(function () { var e = a(this); e.html(a.trim(e.text()).replace(/\s/g, "&nbsp;")) }); var p = 0; if (s && "fill_parent" === s.options.width) { var v = c.length * (c.width() + i); p = d.parent().width() - v } else o.each(function () { var e = a(this); p < e.width() && (p = e.width()) }); o.width(p) } o.height(l) }, _preparePanels: function (e, n) { var i = a(e), l = this; n.each(function () { var e = a(this); e.addClass("panel"); var n = e.children(".accordion-header"); n.addClass("panel-heading"), n.children().addClass("panel-title"), e.hasClass("disabled") ? e.addClass("panel-default") : (e.addClass("panel-success"), n.click(function () { e.hasClass("panel-primary") || (l._togglePanel(i.children(".panel-primary"), "slow"), l._togglePanel(e, "slow")) })); var d = e.children(".accordion-body"); d.addClass("panel-body") }), l._resize(e, 65) }, _togglePanel: function (a, e) { a.toggleClass("panel-primary panel-success"), a.children(".accordion-body").toggle(e) }, _init: function (e, n) { var i = a(e); "horizontal" === n.orientation && i.addClass("accordion-horizontal"), i.addClass("panel-group"); var l = this, d = n.items; d.length > 0 && (i.empty(), this.addItems(e, d)); var r = i.children(".accordion-panel"); this._preparePanels(e, r); var s = r.children(".accordion-body"); s.css("display", "none"); var o = i.children(".accordion-panel[aria-expanded = 'true']"); 0 === o.length && (o = r.first()), this._togglePanel(o), a(window).resize(function () { l._resize(i) }) }, changeEnabled: function (e, n) { var i = this, l = a(e), d = l.children(".accordion-panel").eq(n.index), r = d.children(".accordion-header"); n.enabled ? (d.removeClass("panel-default disabled").addClass("panel-success"), r.click(function () { d.hasClass("panel-primary") || (i._togglePanel(l.children(".panel-primary"), "slow"), i._togglePanel(d, "slow")) })) : (d.removeClass("panel-success").addClass("panel-default disabled"), r.unbind("click")) }, addItems: function (e, n) { var i = a(e), l = []; for (var d in n) if (n.hasOwnProperty(d)) { var r = n[d], s = a('<div class="accordion-panel"></div>'), o = a('<div class="accordion-header"></div>'); o.append(a("<h4></h4>").text(r.header)), s.append(o); var c = a('<div class="accordion-body" style="display: none;"></div>'); c.html(r.body), s.append(c), i.append(s), l.push(s) } this._preparePanels(e, a(l)) }, options: { orientation: "vertical", items: [], width: "fill_parent", height: 0 } }), a.plugin("accordion", a.uca.accordion) }(jQuery);